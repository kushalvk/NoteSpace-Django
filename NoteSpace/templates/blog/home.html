{% extends "base.html" %}
{% load static %}
{% block title %}Home - NoteSpace{% endblock %}

{% block content %}

<link rel="stylesheet" href="{% static 'css/style.css' %}">

<section class="hero">
    {% if posts %}
    <div class="hero-image">
        <img src="{{ posts.0.image.url }}" alt="{{ posts.0.title }}">
    </div>
    <div class="hero-content">
        <span class="category">{{ posts.0.category }}</span>
        <h1>{{ posts.0.title }}</h1>
        <p>{{ posts.0.content|truncatewords:40 }}</p>
        <a href="{{ posts.0.get_absolute_url }}" class="btn">Read More â†’</a>
    </div>
    {% endif %}
</section>

<section class="posts-section">
    <div class="container">
        <h2>Latest Blog Posts</h2>
        <div class="post-grid">
            {% for post in posts %}
            <article class="post-card">
                <div class="post-image">
                    <img src="{{ post.image.url }}" alt="{{ post.title }}">
                </div>
                <div class="post-content">
                    <span class="post-category">{{ post.category }}</span>
                    <h3><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></h3>
                    <p>{{ post.content|truncatewords:22 }}</p>
                    <time datetime="{{ post.created|date:'Y-m-d' }}">{{ post.created|date:"M d, Y" }}</time>
                </div>
            </article>
            {% empty %}
            <p>No posts yet.</p>
            {% endfor %}
        </div>
    </div>
</section>

{% endblock %}